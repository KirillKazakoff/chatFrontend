# Онлайн-чат 

## Описание
Онлайн-чат - это приложение, в котором пользователи могут общаться друг с другом. Передача данных между юзерами происходит по протоколу WebSocket.

[![Build status](https://ci.appveyor.com/api/projects/status/djrnxeunp6o336fy?svg=true)](https://ci.appveyor.com/project/KirillKazakoff/frontend)

## Возможности
- Организация двухстороннего обмена данных между клиентами и сервером
- Синхронизация сообщений, чата и его участников у всех пользователей 
- Обработка ошибок в api-обертке

## Цели
Основной целью приложения было создать работающий чат, в котором несколько пользователей могли бы общаться друг с другом в онлайн-режиме. Здесь нет сложных проверок, аутентификации пользователей и т.д. Интерфейс максимально прост. <br/>
И backend и frontend были созданы мной полностью (fullstack-приложение).

## Демонстрация 
- ### **Логин-форма** </br>
    При входе в приложение необходимо заполнить форму и отправить её на сервер.  Если пользователь с введеным именем уже существует, то всплывет ошибка и будет необходимо заполнить форму с незанятым ранее именем.
    </br>
    В случае отправки не на локальный сервер, а на реальный (развернутый на платформе heroku), то прием ответа займет некоторое время (около 20 - 30 секунд). На это время форма скроется, начнет крутиться лоадер. 

- ### **Чат** </br>
    Здесь пользователи могут общаться друг с другом. Ваши сообщения будут помечены розовым цветом и будут выведены справа в чате. Сообщения от других пользователей будут слева. </br>
    Для того, чтобы тестировать возможность передачи сообщений, вам будет необходимо либо перейти по ссылке с нескольких устройств, либо открыть несколько вкладок в браузере по ссылке на сайт.

- ### **Выход из чата** </br>
    Для того, чтобы покинуть чат, необходимо закрыть вкладку с приложением. Когда другие пользователи покидают чат, то они "исчезают" из списка текущих участников в боковой колонке.

- ### **Обработка ошибок** </br>
    При потере соединения и попытке отправить сообщение ошибка попадет в try catch блок, а затем всплывет окно с описанием ошибки.


## Плагины 

| Plugin              | README                                           |
| ------------------- | ------------------------------------------------ |
| Koa                 | [plugins/koa/README.md][PlKoa]                   |
| Koa-body            | [plugins/koa-body/README.md][PlKoaB]             |
| Koa-router          | [plugins/koa-router/README.md][PlKoaR]           |
| Koa-combine-routers | [plugins/koa-combine-routers/README.md][PlKoaCR] |
| Webpack             | [plugins/webpack/README.md][PlWebpack]           |
| Luxon               | [plugins/luxon/README.md][PlLuxon]               |
| Nanoid              | [plugins/nanoid/README.md][PlNanoid]             |

## Установка
Если вы хотите запустить приложение, то вам необходимо отдельно клонировать два репозитория: этот (клиентская сторона) и [этот] (серверная).
После вам нужно установить зависимости в обоих проектах:
```sh
yarn
```
Затем:
- В проекте с бэкэндом запустите "dev" команду для отладки
    Иначе используйте команду "start"
    ```sh
    yarn dev
    yarn start
    ``` 

- В проекте с фронтэндом вам нужно запустить сначала скрипт "build" чтобы webpack собрал проект, а затем использовать команду "start"
  ```sh
  yarn build
  yarn start
  ```



<!-- Links in text -->
[GitPages]: https://kirillkazakoff.github.io/chatFrontend/
[bad_internet_gif]: ./assets/bad_internet.gif
[disconect_gif]: './assets/disconect.gif
[interaction_gif]: './assets/interaction.gif
[login_gif]: './assets/login.gif

